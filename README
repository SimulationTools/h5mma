===============================================================================
 h5mma
===============================================================================
 Version 1.1.0
 Copyright 2011-2013 Barry Wardell and Ian Hinder

The h5mma package provides improved support for reading HDF5 files in
Mathematica. It is significantly faster, more memory efficient and crash
resilient than the built-in HDF5 reading support.
===============================================================================


Getting the package
-------------------
Binary versions of the h5mma package can be downloaded from the project
webpage:

http://bitbucket.org/simulationtools/h5mma

The source is available from the project git repository:

git clone https://bitbucket.org/simulationtools/h5mma


Requirements
------------
Mathematica: h5mma requires Mathematica version 6 or newer. It may be possible
  to get it to work with older versions, but this is not supported.

HDF5: A version of the HDF5 library providing the version 1.8 API is required
  to build from source. Binary versions of the package already include HDF5.


Installation
------------
The most straightforward way to install h5mma is using the binary packages
provided at

http://bitbucket.org/simulationtools/h5mma/downloads

Once you have downloaded a binary package, extract it into the Mathematica
Applications directory:

For Mac OS: $HOME/Library/Mathematica/Applications
For Linux: $HOME/.Mathematica/Applications


Usage
-----
The package may be loaded into Mathematica using the command:

<< h5mma`

The main command provided is ImportHDF5, which mimics the behavior of Import.


Examples
--------
For example usage, see the h5mma.nb Mathematica notebook in the doc directory.


Compiling
---------

It should normally not be necessary to compile h5mma yourself. If you find you
do need to do so, the following instructions should help.

Mac OSX (MacPorts):

First install the required HDF5 library:
  
  sudo port install hdf5-18

Then compile h5mma:

  cd $HOME/Library/Mathematica/Applications
  git clone https://bitbucket.org/simulationtools/h5mma
  cd h5mma
  make


Mac OSX (Fink):

First install the required HDF5 library:
  
  sudo apt-get install hdf5-18 szip

Then compile h5mma:

  cd $HOME/Library/Mathematica/Applications
  git clone https://bitbucket.org/simulationtools/h5mma
  cd h5mma
  make


Ubuntu:
The version of HDF5 provided with Ubuntu does not currently work due to a bug
in the package (http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=537414). This
will be fixed in the future. Until then, install HDF5 manually by downloading
the source package from http://www.hdfgroup.org/ftp/HDF5/current/src/,
extracting the tarball and then in the extracted directory running:
./configure --prefix=/usr/local && make && sudo make install

Now, get a copy of the h5mma repository:

  cd $HOME/Library/Mathematica/Applications
  git clone https://bitbucket.org/simulationtools/h5mma
  cd h5mma

then copy the 'make.defs.example' file to 'make.defs' and edit it so that it
has the following:

HDF5DIR    = /usr/local
MLINKDIR   = /usr/local/Wolfram/Mathematica/8.0/SystemFiles/Links/MathLink/DeveloperKit/Linux/CompilerAdditions

You may need to adjust the MLINKDIR for your system. In particular, if your
system is 64-bit, change 'Linux' to 'Linux-x86-64'.

Finally, build h5mma:

  make


Other:

Create the file 'make.defs' using the template provided in
'make.defs.example' (this is not necessary on
login-damiana.aei.mpg.de, since that machine is configured
automatically).  Edit the paths in this file to point to the
appropriate locations on your machine:

HDF5DIR:    This should be the directory containing lib/libhdf5*.
MLINKDIR:   This should be the directory containing mcc and mprep.

Once these paths have been set, build h5mma:

  make

Known problems
--------------
Known bugs are recorded in the project bug tracker:

http://sourceforge.net/p/h5mma/tickets/


License
-------
This program is free software; you can redistribute it and/or modify it under
the terms of the GNU Lesser General Public License as published by the Free
Software Foundation; either version 2.1 of the License, or (at your option)
any later version.

This library is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License along
with this library; if not, write to the Free Software Foundation, Inc., 
59 Temple Place, Suite 330, Boston, MA 02111-1307 USA.

Binary releases include the HDF5 library. Copyright information for this
library can be found in the file COPYING.HDF5.

Authors
-------

Barry Wardell
Ian Hinder

Max Planck Institute for Gravitational Physics / Albert Einstein Institute
Am Muehlenberg 1
14476 Potsdam
Germany

http://numrel.aei.mpg.de
