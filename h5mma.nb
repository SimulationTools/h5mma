(* Content-type: application/mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 7.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       145,          7]
NotebookDataLength[     11877,        362]
NotebookOptionsPosition[     10207,        301]
NotebookOutlinePosition[     10719,        323]
CellTagsIndexPosition[     10634,        318]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{"<<", "h5mma`"}]], "Input",
 CellChangeTimes->{{3.490511229646881*^9, 3.490511234727852*^9}}],

Cell[TextData[{
 "Check that we are using the ",
 StyleBox["MathLink",
  FontSlant->"Italic"],
 " executable:"
}], "Text",
 CellChangeTimes->{{3.490529860073649*^9, 3.4905298682725887`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Options", "[", "ImportHDF5", "]"}]], "Input",
 CellChangeTimes->{{3.4905253521248703`*^9, 3.49052535790469*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"h5mmaMathLink", "\[Rule]", "True"}], "}"}]], "Output",
 CellChangeTimes->{
  3.490525358502397*^9, 3.49052542163416*^9, 3.4905256240110283`*^9, {
   3.4905262750937023`*^9, 3.4905262940064163`*^9}, 3.4905268018741407`*^9, 
   3.490527637881537*^9, 3.4905277072060223`*^9, 3.490528267544304*^9, 
   3.490529531437243*^9, 3.4905296960374517`*^9, 3.490529766473404*^9, {
   3.4905298115098877`*^9, 3.490529827103351*^9}}]
}, Open  ]],

Cell["Available functions", "Text",
 CellChangeTimes->{{3.490529909296783*^9, 3.490529928150577*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"??", "h5mma`*"}]], "Input",
 CellChangeTimes->{{3.490527640404723*^9, 3.490527645172875*^9}}],

Cell[BoxData[
 DynamicModuleBox[{Typeset`open$$ = True}, 
  PaneSelectorBox[{False->
   RowBox[{
    OpenerBox[Dynamic[Typeset`open$$],
     ImageSize->Small], 
    StyleBox["h5mma`", "InfoHeading"]}], True->GridBox[{
     {
      RowBox[{
       OpenerBox[Dynamic[Typeset`open$$],
        ImageSize->Small], 
       StyleBox["h5mma`", "InfoHeading"]}]},
     {GridBox[{
        {
         ButtonBox["h5mmaMathLink",
          BaseStyle->"InformationLinkLF",
          ButtonData:>{"Info3490537027-3803652", {"h5mmaMathLink", "h5mma`"}},
          
          ButtonNote->"h5mma`"], 
         ButtonBox["ImportHDF5",
          BaseStyle->"InformationLinkLF",
          ButtonData:>{"Info3490537027-3803652", {"ImportHDF5", "h5mma`"}},
          ButtonNote->"h5mma`"]}
       },
       DefaultBaseStyle->"InfoGrid",
       GridBoxItemSize->{"Columns" -> {{
            Scaled[0.475]}}}]}
    },
    GridBoxAlignment->{"Columns" -> {{Left}}, "Rows" -> {{Baseline}}}]}, 
   Dynamic[Typeset`open$$],
   ImageSize->Automatic]]], "Print", "InfoCell",
 CellChangeTimes->{3.490529827472302*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "ImportHDF5"}]], "Input",
 CellChangeTimes->{{3.490529878768306*^9, 3.490529882185398*^9}}],

Cell[BoxData[
 StyleBox["\<\"ImportHDF5[\\\"file\\\"] imports data from an HDF5 file, \
returning a complete \
\!\(\*\\nStyleBox[\\\"Mathematica\\\",\\nFontSlant->\\\"Italic\\\"]\) version \
of it.\\nImportHDF5[\\\"file\\\", \!\(\*\\nStyleBox[\\\"elements\\\", \
\\\"TI\\\"]\)] imports the specified elements from a file.\"\>", 
  "MSG"]], "Print", "PrintUsage",
 CellChangeTimes->{3.490530063763619*^9},
 CellTags->"Info3490537263-9877298"]
}, Open  ]],

Cell["Example", "Text",
 CellChangeTimes->{{3.490529932118734*^9, 3.490529933126587*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"file", "=", "\"\<h5mma/phi.0.xy.h5\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.4899366138854847`*^9, 3.489936623699217*^9}, {
  3.4905267612156076`*^9, 3.490526762646985*^9}}],

Cell["\<\
With no extra arguments, we just list the datasets in the file\
\>", "Text",
 CellChangeTimes->{{3.49052998318314*^9, 3.490529998956534*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"datasets", "=", 
   RowBox[{"ImportHDF5", "[", "file", "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.4905280543067102`*^9, 3.490528066874321*^9}, 
   3.490529539923633*^9, {3.4905301163225737`*^9, 3.490530119201985*^9}, {
   3.49053014940202*^9, 3.4905301548175793`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Short", "[", "datasets", "]"}]], "Input",
 CellChangeTimes->{{3.490530125482334*^9, 3.490530156824959*^9}}],

Cell[BoxData[
 TagBox[
  RowBox[{"{", 
   RowBox[{"\<\"/CTGBASE::phi it=0 tl=0 m=0 rl=0 c=0\"\>", 
    ",", "\<\"/CTGBASE::phi it=0 tl=0 m=0 rl=0 c=1\"\>", ",", 
    RowBox[{"\[LeftSkeleton]", "136", "\[RightSkeleton]"}], 
    ",", "\<\"/CTGBASE::phi it=0 tl=0 m=0 rl=5 c=8\"\>"}], "}"}],
  Short]], "Output",
 CellChangeTimes->{3.490530135666057*^9}]
}, Open  ]],

Cell["We can also specify which datasets to import:", "Text",
 CellChangeTimes->{{3.490530012724098*^9, 3.490530021348151*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"someData", "=", 
   RowBox[{"ImportHDF5", "[", 
    RowBox[{"file", ",", 
     RowBox[{"{", 
      RowBox[{"\"\<Datasets\>\"", ",", 
       RowBox[{"{", 
        RowBox[{
        "\"\</CTGBASE::phi it=0 tl=0 m=0 rl=0 c=0\>\"", ",", 
         "\"\</CTGBASE::phi it=0 tl=0 m=0 rl=0 c=1\>\""}], "}"}]}], "}"}]}], 
    "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.490525430830884*^9, 3.490525436581707*^9}, {
  3.490525822429739*^9, 3.490525848309379*^9}, {3.490527719859448*^9, 
  3.4905277255177298`*^9}, {3.4905278675598707`*^9, 3.490527876893983*^9}, {
  3.490527960724666*^9, 3.490527976746708*^9}, {3.490528069873969*^9, 
  3.4905280722412157`*^9}, {3.490528174927672*^9, 3.49052817734136*^9}, {
  3.490528255900537*^9, 3.4905282757705107`*^9}, {3.4905301462520943`*^9, 
  3.490530159634848*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Short", "[", "someData", "]"}]], "Input",
 CellChangeTimes->{{3.490530160501569*^9, 3.4905301638765907`*^9}}],

Cell[BoxData[
 TagBox[
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "0.9853526022944306`", ",", "0.9852043715410528`", ",", 
        "0.9850547483918555`", ",", 
        RowBox[{"\[LeftSkeleton]", "93", "\[RightSkeleton]"}], ",", 
        "0.9850547197481124`", ",", "0.9852043436365806`", ",", 
        "0.985352575104176`"}], "}"}], ",", 
      RowBox[{"\[LeftSkeleton]", "69", "\[RightSkeleton]"}], ",", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"\[LeftSkeleton]", "19", "\[RightSkeleton]"}], ",", 
        RowBox[{"\[LeftSkeleton]", "97", "\[RightSkeleton]"}], ",", 
        RowBox[{"\[LeftSkeleton]", "19", "\[RightSkeleton]"}]}], "}"}]}], 
     "}"}], ",", 
    RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}]}], "}"}],
  Short]], "Output",
 CellChangeTimes->{3.490530164288288*^9}]
}, Open  ]],

Cell["Or just import them all:", "Text",
 CellChangeTimes->{{3.490530026901299*^9, 3.490530030971431*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"allData", "=", 
   RowBox[{"ImportHDF5", "[", 
    RowBox[{"file", ",", 
     RowBox[{"{", "\"\<Data\>\"", "}"}]}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.490525430830884*^9, 3.490525436581707*^9}, {
  3.490525822429739*^9, 3.490525848309379*^9}, {3.490527719859448*^9, 
  3.4905277255177298`*^9}, {3.4905278675598707`*^9, 3.490527876893983*^9}, {
  3.490527960724666*^9, 3.490527976746708*^9}, {3.490528069873969*^9, 
  3.4905280722412157`*^9}, {3.490528174927672*^9, 3.49052817734136*^9}, {
  3.490528255900537*^9, 3.4905282757705107`*^9}, {3.490528478235928*^9, 
  3.490528483195321*^9}, {3.490530168034965*^9, 3.490530171136965*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Short", "[", "allData", "]"}]], "Input",
 CellChangeTimes->{{3.490530172722789*^9, 3.490530175488544*^9}}],

Cell[BoxData[
 TagBox[
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "0.9853526022944306`", ",", "0.9852043715410528`", ",", 
        "0.9850547483918555`", ",", 
        RowBox[{"\[LeftSkeleton]", "93", "\[RightSkeleton]"}], ",", 
        "0.9850547197481124`", ",", "0.9852043436365806`", ",", 
        "0.985352575104176`"}], "}"}], ",", 
      RowBox[{"\[LeftSkeleton]", "70", "\[RightSkeleton]"}]}], "}"}], ",", 
    RowBox[{"\[LeftSkeleton]", "137", "\[RightSkeleton]"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}], "}"}], ",", 
      RowBox[{"\[LeftSkeleton]", "30", "\[RightSkeleton]"}]}], "}"}]}], "}"}],
  
  Short]], "Output",
 CellChangeTimes->{3.490530176681718*^9}]
}, Open  ]],

Cell[TextData[{
 "We can also import the attributes (annotations in ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 "'s language)"
}], "Text",
 CellChangeTimes->{{3.490530082194151*^9, 3.490530098137845*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"allAttrs", "=", 
   RowBox[{"ImportHDF5", "[", 
    RowBox[{"file", ",", "\"\<Annotations\>\""}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.490529107533399*^9, 3.490529111873212*^9}, {
  3.490529251237857*^9, 3.490529257805688*^9}, {3.4905301948967123`*^9, 
  3.4905302022000837`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Short", "[", "allAttrs", "]"}]], "Input",
 CellChangeTimes->{{3.490530203922567*^9, 3.4905302063834763`*^9}}],

Cell[BoxData[
 TagBox[
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"\<\"time\"\>", "\[Rule]", "0.`"}], ",", 
      RowBox[{"\<\"timestep\"\>", "\[Rule]", "0"}], ",", 
      RowBox[{"\<\"name\"\>", "\[Rule]", "\<\"CTGBASE::phi\"\>"}], ",", 
      RowBox[{"\<\"level\"\>", "\[Rule]", "0"}], ",", 
      RowBox[{"\<\"origin\"\>", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"-", "47.04`"}], ",", 
         RowBox[{"-", "47.04`"}]}], "}"}]}], ",", 
      RowBox[{"\<\"delta\"\>", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{"0.96`", ",", "0.9600000000000001`"}], "}"}]}], ",", 
      RowBox[{"\<\"iorigin\"\>", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0"}], "}"}]}]}], "}"}], ",", 
    RowBox[{"\[LeftSkeleton]", "137", "\[RightSkeleton]"}], ",", 
    RowBox[{"{", 
     RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}], "}"}]}], "}"}],
  Short]], "Output",
 CellChangeTimes->{3.4905302067606497`*^9}]
}, Open  ]]
},
WindowSize->{1241, 756},
WindowMargins->{{-6, Automatic}, {Automatic, 0}},
ShowSelection->True,
FrontEndVersion->"7.0 for Mac OS X x86 (32-bit) (November 10, 2008)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "Info3490537263-9877298"->{
  Cell[2981, 98, 441, 8, 60, "Print",
   CellTags->"Info3490537263-9877298"]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"Info3490537263-9877298", 10532, 312}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[545, 20, 116, 2, 27, "Input"],
Cell[664, 24, 190, 6, 26, "Text"],
Cell[CellGroupData[{
Cell[879, 34, 136, 2, 27, "Input"],
Cell[1018, 38, 458, 8, 27, "Output"]
}, Open  ]],
Cell[1491, 49, 101, 1, 26, "Text"],
Cell[CellGroupData[{
Cell[1617, 54, 117, 2, 27, "Input"],
Cell[1737, 58, 1085, 31, 54, "Print"]
}, Open  ]],
Cell[CellGroupData[{
Cell[2859, 94, 119, 2, 27, "Input"],
Cell[2981, 98, 441, 8, 60, "Print",
 CellTags->"Info3490537263-9877298"]
}, Open  ]],
Cell[3437, 109, 89, 1, 26, "Text"],
Cell[3529, 112, 213, 4, 27, "Input"],
Cell[3745, 118, 151, 3, 26, "Text"],
Cell[3899, 123, 308, 6, 27, "Input"],
Cell[CellGroupData[{
Cell[4232, 133, 131, 2, 27, "Input"],
Cell[4366, 137, 351, 8, 27, "Output"]
}, Open  ]],
Cell[4732, 148, 127, 1, 26, "Text"],
Cell[4862, 151, 836, 18, 27, "Input"],
Cell[CellGroupData[{
Cell[5723, 173, 133, 2, 27, "Input"],
Cell[5859, 177, 862, 22, 27, "Output"]
}, Open  ]],
Cell[6736, 202, 106, 1, 26, "Text"],
Cell[6845, 205, 681, 12, 27, "Input"],
Cell[CellGroupData[{
Cell[7551, 221, 130, 2, 27, "Input"],
Cell[7684, 225, 811, 22, 27, "Output"]
}, Open  ]],
Cell[8510, 250, 213, 6, 26, "Text"],
Cell[8726, 258, 326, 7, 27, "Input"],
Cell[CellGroupData[{
Cell[9077, 269, 133, 2, 27, "Input"],
Cell[9213, 273, 978, 25, 27, "Output"]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
